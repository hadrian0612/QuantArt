# MA60CrossVolumeWaveSelector (上穿60放量战法) 配置文件
# 一个策略一个配置文件，直接包含策略配置，无需 selectors 层级

class: MA60CrossVolumeWaveSelector
alias: 上穿60放量战法
activate: true

# ========== 策略原理简介 ==========
# 上穿60放量战法：结合 60 日均线、量能变化与 KDJ 的趋势跟随型策略
#
# 核心逻辑：
# 1. J 值低位：当日 KDJ 的 J 值处于绝对低位或历史分位低位
# 2. 有效上穿 MA60：最近 lookback_n 日内，存在一次收盘价有效上穿 MA60 的行为
# 3. 上涨波段放量：从上穿日 T 到阶段高点 Tmax 的上涨波段，日均成交量
#    至少是上穿前等长窗口日均成交量的 vol_multiple 倍
# 4. MA60 斜率向上：最近 ma60_slope_days 日的 MA60 拟合斜率 > 0，确认中期向上趋势
# 5. 知行条件：当日短期线与长期线满足多头排列要求
#
# 适用场景：中期趋势刚刚由弱转强且放量突破 60 日均线后，寻找回调或整理后的介入点
# ===================================

params:
  # 回看有效上穿 MA60 的窗口长度（交易日数）
  # 在这段历史中寻找最近一次“有效上穿”行为
  # 建议范围：20 ~ 120
  lookback_n: 25

  # 上涨波段相对前置区间的放量倍数
  # 例如 1.8 表示上涨波段均量需达到前等长窗口均量的 1.8 倍
  # 建议范围：1.2 ~ 3.0
  vol_multiple: 1.8

  # KDJ 指标 J 值的绝对阈值：J < j_threshold 时认为“明显偏低”
  # 一般为负值或接近 0，越小越严格，建议范围：-20 ~ 10
  j_threshold: 15

  # KDJ 指标 J 值的分位数阈值（0-1之间）
  # 当日 J 值 <= 过去 max_window 日 J 值该分位数时，也认为处于相对低位
  # 建议范围：0.05 ~ 0.20
  j_q_threshold: 0.10

  # 计算 MA60 斜率时所用的最近交易日数
  # 对这段 MA60 做线性回归，要求斜率 > 0
  # 建议范围：3 ~ 10
  ma60_slope_days: 5

  # 计算 J 值分位等时使用的最大回看窗口（交易日数）
  # 同时决定所需的最小历史长度，建议范围：60 ~ 250
  max_window: 120

